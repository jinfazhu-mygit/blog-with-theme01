(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{730:function(s,a,n){"use strict";n.r(a);var t=n(3),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"服务器部署及常用操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务器部署及常用操作"}},[s._v("#")]),s._v(" 服务器部署及常用操作")]),s._v(" "),n("h3",{attrs:{id:"_1-购买服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-购买服务器"}},[s._v("#")]),s._v(" 1. 购买服务器")]),s._v(" "),n("p",[n("strong",[s._v("阿⾥云、腾讯云、华为云")])]),s._v(" "),n("ul",[n("li",[s._v("购买云服务器其实是购买⼀个实例。")])]),s._v(" "),n("h3",{attrs:{id:"_2-配置云服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置云服务器"}},[s._v("#")]),s._v(" 2. 配置云服务器")]),s._v(" "),n("h4",{attrs:{id:"_2-1-连接云服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-连接云服务器"}},[s._v("#")]),s._v(" 2.1 连接云服务器")]),s._v(" "),n("ul",[n("li",[s._v("通常情况下，我们会通过ssh连接云服务器：\n"),n("ul",[n("li",[s._v("Windows电脑上直接使⽤git bash ssh⼯具；")]),s._v(" "),n("li",[s._v("Mac OS电脑上直接通过终端来使⽤ssh⼯具；")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("ssh root@__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 进行连接")]),s._v("\nhostnamectl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" set"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hostname zhujinfa "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 更改服务器主机名")]),s._v("\nservice sshd resatrt "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 重启服务")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"_2-2-环境配置-node-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-环境配置-node-js"}},[s._v("#")]),s._v(" 2.2 环境配置(Node.js)")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("安装软件使用的工具")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("DNF")]),s._v(",全称"),n("strong",[s._v("Dandified Yum")]),s._v(";")]),s._v(" "),n("li",[s._v("是Yum的下⼀个版本，也被称之为Yum的替代品；")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("检查dnf是否可用")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("dnf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("help\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("安装软件包")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 搜索软件包")]),s._v("\ndnf search nodejs\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看软件包信息")]),s._v("\ndnf info nodejs\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装nodejs")]),s._v("\ndnf install nodejs\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("node版本切换工具:n")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装n")]),s._v("\nnpm install n "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("g\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过n安装最新的lts和current版的node")]),s._v("\nn install lts\nn install latest\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过n切换版本")]),s._v("\nn\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"_2-3-环境配置-mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-环境配置-mysql"}},[s._v("#")]),s._v(" 2.3 环境配置(MySQL)")]),s._v(" "),n("ul",[n("li",[s._v("仍使用"),n("strong",[s._v("dnf")]),s._v("来安装MySQL")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查找MySQL")]),s._v("\ndnf search mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看MySQL，这⾥的版本是8.0.21")]),s._v("\ndnf info mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装MySQL，这⾥加-y的意思是依赖的内容也安装")]),s._v("\ndnf install mysql"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[s._v("启动mysql-server")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启MySQL后台服务")]),s._v("\nsystemctl start mysqld\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 查看MySQL服务：active (running)表示启动成功")]),s._v("\nsystemctl status mysqld\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 随着系统⼀起启动")]),s._v("\nsystemctl enable mysqld\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 取消跟随系统启动mysql")]),s._v("\nsystemctl disable mysqld\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("配置MySQL")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配置MySQL账号和密码")]),s._v("\nmysql_secure_installation\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 进入mysql")]),s._v("\nmysql "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u root "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("远程连接")])])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 使用mysql数据库\nuse mysql;\n\n# 查看user表中，连接权限，默认看到root是localhost\nselect host, user from user;\n\n# 修改权限 服务器开启相对应的端口进行使用(默认为3306)\nupdate user set host = '%' where user = 'root';\n\n# 然后就可以使用navicat输入服务器公网ip加端口，root用户连接远程数据库了\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("ul",[n("li",[n("p",[n("strong",[s._v("数据库迁移")])])]),s._v(" "),n("li",[n("p",[s._v("navicate导出数据库文件(数据和结构)，在对应的远程数据库运行即可")])])]),s._v(" "),n("h3",{attrs:{id:"_3-代码部署及托管"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-代码部署及托管"}},[s._v("#")]),s._v(" 3.代码部署及托管")]),s._v(" "),n("ul",[n("li",[n("strong",[s._v("3.1 代码托管到git仓库")])]),s._v(" "),n("li",[n("strong",[s._v("3.2 代码克隆到服务器")])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("dnf install git"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 安装git")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 选择想放的文件夹")]),s._v("\ncd "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nmkdir learnNode\ncd learnNode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n    \ngit clone https"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("github"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jinfazhu"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mygit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("coderhub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("git\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[n("strong",[s._v("3.3 vscode连接远程服务器代码操作")]),s._v(" "),n("ul",[n("li",[s._v("使用vscode插件：remote-ssh")]),s._v(" "),n("li",[s._v("创建连接，安装相关依赖，配置一下需要的东西(数据库，端口(要添加相应安全组))")]),s._v(" "),n("li",[s._v("pm2启动node程序")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// pm2常用命令")]),s._v("\n# 命名进程\npm2 start app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name my"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("api\npm2 start "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或")]),s._v("\n# 显示所有进程状态\npm2 list \n# 停⽌指定的进程\npm2 stop "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n# 停⽌所有进程\npm2 stop all \n# 重启所有进程\npm2 restart all \n# 重启指定的进程\npm2 restart "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n# 杀死指定的进程\npm2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" \n# 杀死全部进程\npm2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" all \n#后台运⾏pm2，启动"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("个app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js，实现负载均衡\npm2 start app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);