(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{709:function(t,s,a){"use strict";a.r(s);var r=a(3),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"pnpm对比于npm、yarn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm对比于npm、yarn"}},[t._v("#")]),t._v(" pnpm对比于npm、yarn")]),t._v(" "),a("h3",{attrs:{id:"硬链接与软链接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#硬链接与软链接"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/gao_zhennan/article/details/79127232?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&utm_relevant_index=2",target:"_blank",rel:"noopener noreferrer"}},[t._v("硬链接与软链接"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("硬链接实现")])]),t._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ln")]),t._v(" 源文件 目标文件\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("软链接实现")])]),t._v(" "),a("div",{staticClass:"language-vim line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vim"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ln")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s 源文件 目标文件\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("总结：")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("硬链接等同于cp -p(复制) + 同步更新")])]),t._v(" "),a("li",[a("strong",[t._v("软链接像快捷方式，方便我们打开源文件")])])]),t._v(" "),a("h3",{attrs:{id:"删除源文件对硬链接文件和软链接文件的影响"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除源文件对硬链接文件和软链接文件的影响"}},[t._v("#")]),t._v(" 删除源文件对硬链接文件和软链接文件的影响")]),t._v(" "),a("p",[t._v("和windows一样，"),a("strong",[t._v("删除源文件，快捷方式也用不了(软链接文件用不了)")]),t._v("。但是"),a("strong",[t._v("删除源文件，为什么硬链接文件还可以查看")]),t._v("呢？")]),t._v(" "),a("h4",{attrs:{id:"i节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i节点"}},[t._v("#")]),t._v(" i节点")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("i节点是文件和目录的唯一标识")]),t._v("，每个文件和目录必有i节点，不然操作系统就无法识别该文件或目录，就像没有上户口的黑户。")]),t._v(" "),a("li",[t._v("硬链接文件和源文件i节点号相同，并且一个i节点可以对应多个文件名。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s1.ax1x.com/2022/11/02/xHwdDe.png",alt:"xHwdDe.png"}})]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("删除了jys,只是删除了从920586到jys的映射关系")]),t._v("，"),a("strong",[t._v("不影响它和jys.hard的映射")]),t._v("关系。")]),t._v(" "),a("li",[t._v("此图也解释了硬链接的同步更新，"),a("strong",[t._v("对源文件修改，操作系统只认i节点")]),t._v("，于是操作系统就将修改内容写进所有i节点相同名字不同的文件。")]),t._v(" "),a("li",[t._v("相反，修改硬链接文件，操作系统也将同步的将硬链接对应的i节点所有文件都进行修改")])]),t._v(" "),a("h2",{attrs:{id:"pnpm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pnpm"}},[t._v("#")]),t._v(" pnpm")]),t._v(" "),a("h3",{attrs:{id:"理解图片即可"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理解图片即可"}},[t._v("#")]),t._v(" 理解图片即可")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s1.ax1x.com/2022/11/02/xHBDpt.png",alt:"xHBDpt.png"}})]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("npm2 是通过嵌套的方式管理 node_modules")]),t._v(" 的，会有同样的依赖复制多次的问题。")]),t._v(" "),a("li",[a("strong",[t._v("npm3+ 和 yarn 是通过铺平的扁平化的方式来管理 node_modules")]),t._v("，解决了嵌套方式的部分问题，但是引入了**幽灵依赖(可以引用非用户手动引入的包)**的问题，并且同名的包只会提升一个版本的，其余的版本依然会复制多次。")]),t._v(" "),a("li",[t._v("pnpm 则是用了另一种方式，不再是复制了，而是都从"),a("strong",[t._v("全局 store 硬连接到 node_modules/.pnpm")]),t._v("，然后之间"),a("strong",[t._v("通过软链接来组织依赖关系")]),t._v("。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);